<div class="details mat-elevation-z4" *ngIf="event">
  <h1 class="mat-title">{{ event.title }}</h1>
  <div class="facts">
    <h3 class="mat-card-subtitle"><span><mat-icon [inline]="true">av_timer</mat-icon>
      {{ event.duration }} Minuten</span></h3>
    <h3 class="mat-card-subtitle"><span><mat-icon [inline]="true">list</mat-icon>
      {{ event.category }}</span></h3>
  </div>
  <mat-divider></mat-divider>
  <p class="mat-body-2">{{ event.description }}</p>

  <mat-divider></mat-divider>
  <h2>Saalplan</h2>
  <mat-accordion>
    <mat-expansion-panel *ngFor="let performance of performances" >
      <mat-expansion-panel-header>
        Auff√ºhrung im <b>&nbsp;{{performance.location.description}}&nbsp;</b> <tl-timestamp [timestamp]="performance.dateTime"></tl-timestamp>
      </mat-expansion-panel-header>
      <tl-seatplan [seatmap]="getSeatmap()"
                   [postfixId]="performance.id.toString()"
                   (selectedSeatsChanged)="selectedSeatsChanged($event)"
                   (selectedStandingAreaChanged)="selectedStandingAreasChanged($event)"
      ></tl-seatplan>
      <span *ngIf="isUserLoggedIn()">
        <button mat-raised-button (click)="buyTicket(false, performance)">Kaufen</button>
        <button mat-raised-button (click)="buyTicket(true, performance)">Reservieren</button>
      </span>
      <span *ngIf="!isUserLoggedIn()">
        Login or Register to Buy or Reserve Tickets
      </span>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<mat-spinner *ngIf="!event && !errorMsg"></mat-spinner>
<div class="error-msg" *ngIf="errorMsg">
  <h1>{{ errorMsg }}</h1>
</div>
